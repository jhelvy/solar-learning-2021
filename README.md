
<!-- README.md is generated from README.Rmd. Please edit that file -->

**Description**: This repository contains the data and code to reproduce
results from our study.

**Paper Title**: Quantifying the role of globalized solar photovoltaic
supply chains in reaching climate targets.

**Authors**: John Paul Helveston, Gang He, & Michael R. Davidson.

**Abstract**: Achieving global carbon neutrality relies on the
deployment of renewable energy at unprecedented speed and scale, yet
countries sometimes implement policies that increase costs by
restricting the free flow of capital, talent, and innovation and
localizing benefits in terms of growth, employment, and trade surpluses.
This paper contributes to the conversation on this dilemma by
quantifying the implications of nationalistic policies for domestically
manufacturing solar photovoltaic (PV) modules. Using detailed historical
capacity, component, and input material price data of solar photovoltaic
(PV) deployment in the U.S., Germany, and China, we develop a two-factor
learning model to assess the savings of a globalized solar PV supply
chain in terms of the cost of module deployment to achieve ambitious
low-carbon goals. We estimate that the globalized PV module market has
saved PV installers in the U.S. $24 ($19 - $31) billion, Germany $7 ($5
- $9) billion, and China $36 ($26 - $45) billion from 2008 to 2020
compared to a counterfactual scenario where domestic manufacturers
supply an increasing proportion of installed capacities in each country
over a 10-year period. In projecting the same scenario forward from
2020, we estimate that 2030 unit solar module prices would be
approximately 20-25% higher in each country compared to a future with
globalized supply chains. International climate policy benefits from a
globalized low-carbon value chain, and these results point to the need
for complementary policies to mitigate welfare distribution effects and
potential impacts on technological crowding-out.

# Folder descriptions

## data

Contains all of the “raw” data used in our analyses as well as a single
`formatted.Rds` file that when loaded into R is a list of formatted data
frames, which is generated by running the script at
`code/2format_data.R`.

## code

| file or folder       | description                                                                                                                                                                                      |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `0a_run.R`           | A single file to reproduce all analyses.                                                                                                                                                         |
| `0functions.R`       | Custom functions used in our analyses.                                                                                                                                                           |
| `0setup.R`           | Loads libraries, creates `dir` object (a list of paths to folders and objects), and loads `0functions.R`.                                                                                        |
| `1format_data.R`     | Formats and harmonizes all raw data and saves the result as the list object at `data/formatted.Rds`.                                                                                             |
| `2learning_curves.R` | Estimates learning curve models and saves all results as the list object at `output/lr_models.Rds`.                                                                                              |
| `3scenarios_hist.R`  | Uses the estimates learning curves models to compute differences in historical costs under different scenarios. Results are saved as the list object at `output/historical_scenarios.Rds`.       |
| `4scenarios_proj.R`  | Uses the estimates learning curves models to compute differences in projected future costs under different scenarios. Results are saved as the list object at `output/projection_scenarios.Rds`. |
| `5charts.R`          | Code to reproduce all charts used in our analyses.                                                                                                                                               |
| `6summary.R`         | Code to print out a summary of all main results.                                                                                                                                                 |
| `7tables.Rmd`        | Generates all tables in the `output/tables.docx` file.                                                                                                                                           |

## figs

All charts created in the `code/5charts.R` file are saved here as pdfs
and pngs.

## output

All model / scenario analyses outputs (other than charts) are saved
here.

# Reproducing the analyses

To reproduce the analyses, first open the `solar-learning-2021.Rproj`
file, which sets the working directory to the root of the files in this
repository. The repository root must be set as the working directory
otherwise the code will error.

## Full reproduction

The `code/0a_run.R` file contains scripts to fully reproduce the entire
set of analyses. This is here purely for convenience.

## Setup

Most R files in the `/code` folder start with the following line to set
up the working environment:

``` r
source(here::here('code', '0setup.R'))
```

## Formatting the data

All of the raw data are stored in the `/data` folder. The script at
`/code/1format_data.R` formats all of this data and saves it as a list
stored at `/data/formatted.Rds`.

To load this list of formatted data, run this line after sourcing the
`/code/0setup.R` file:

``` r
data <- readRDS(dir$data_formatted)

# Names of the formatted data frames:
names(data)
```

    ##  [1] "pvProduction"            "silicon"                
    ##  [3] "irenaCumCapacityMw"      "nrelCapacity"           
    ##  [5] "nrelCost"                "seiaCapacity"           
    ##  [7] "lbnlCost"                "usNrel"                 
    ##  [9] "us"                      "china"                  
    ## [11] "germany"                 "world"                  
    ## [13] "rates"                   "hist_us"                
    ## [15] "hist_china"              "hist_germany"           
    ## [17] "proj_nat_trends_us"      "proj_sus_dev_us"        
    ## [19] "proj_nat_trends_china"   "proj_sus_dev_china"     
    ## [21] "proj_nat_trends_germany" "proj_sus_dev_germany"   
    ## [23] "exchangeRatesRMB"        "exchangeRatesEUR"

## Learning curve models

All of the learning curve models are estimated by running the
`/code/2learning_curves.R` file. Results are saved in a list of data
frames containing formatted model results stored in
`/output/lr_models.Rds`.

To load formatted results, run this line:

``` r
lr <- readRDS(dir$lr_models)

# Names of the LR models:
names(lr)
```

## Historical scenarios

All of the historical (2008 - 2018) cost scenario calculations are
computed by running the `/code/3historical_scenarios.R` file. Results
are saved in a list of data frame containing formatted results stored in
`/output/historical_scenarios.Rds`.

To load the results of the historical scenarios, run this line:

``` r
cost <- readRDS(dir$scenarios_hist)

# Names of the scenarios:
names(cost)
```

    ## [1] "cost"    "savings"

## Projected scenarios

All of the future projected (2018 - 2030) cost scenario calculations are
computed by running the `/code/4projection_scenarios.R` file. Results
are saved in a list of data frame containing formatted results stored in
`/output/projection_scenarios.Rds`.

To load the results of the projected scenarios, run this line:

``` r
proj <- readRDS(dir$scenarios_proj)

# Names of the scenarios:
names(proj)
```

    ## [1] "nat_trends"         "sus_dev"            "savings_nat_trends"
    ## [4] "savings_sus_dev"

## Charts

All of the charts are generated by running the `/code/5charts.R` file.
Results are saved as pngs and pdfs in the `/figs` folder.
